$(document).ready(function(){"use strict";function t(){a++,e=Math.floor(a/i.length*100),$("#loaderMask").html("<span>"+e+"%</span>"),100===e&&($("#loaderMask").html("<span>100%</span>"),$("#loaderMask").fadeOut(function(){$("#loaderMask").remove(),$("#video").play()}))}Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var r=this.length>>>0,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=r);r>n;n++)if(n in this&&this[n]===t)return n;return-1});var r=[],n=[],a=0,e=0;$('<div id="loaderMask"><span>0%</span></div>').css({position:"fixed",top:0,bottom:0,left:0,right:0,background:"#fff"}).appendTo("body"),$("*").filter(function(){var t=$(this).css("background-image").replace(/url\(/g,"").replace(/\)/,"").replace(/"/g,""),a=$(this).not("script").attr("src");"none"===t||/linear-gradient/g.test(t)||-1!==r.indexOf(t)||r.push(t),void 0!==a&&-1===n.indexOf(a)&&n.push(a)});var i=r.concat(n);$.each(i,function(r,n){$("<img />").attr("src",n).bind("load",function(){t()}),$("<img />").attr("src",n).bind("error",function(){imgError(this)})})});